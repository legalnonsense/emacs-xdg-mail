

For various reasons, I could not get the .desktop files that come with emacs to work for mailto links with my mu4e and org-msg set up. I have provided:

1. a .desktop file
2. a bash script that passes a mailto url to Emacs
3. An emacs function that parses the url and opens a new email message

Steps:    

1. Put the emacs-mail.desktop file in /â€‹usr/share/applications/ or wherever your .desktop files are stored.
2. Tell xdg to use that .desktop file: =xdg-settings set default-url-scheme-handler mailto emacs-mail.desktop=
3. Make sure it worked: ~xdg-mime query default 'x-scheme-handler/mailto'~
4. If you have problems, try running =xdg-desktop-menu install emacs-mail.desktop=. Idk what it does but it seemed to force xdg to refresh the desktop file.)
5. Copy =emacs-xdg-email.sh= into your path and make it executable.
6. Test it in your terminal: =$ emacs-xdg-email.sh mailto:myself?= should open a new blank email to myself. 
7. Configure any other programs that require it. For example, in thunar: edit -> configure custom action. Create a new action that uses the command: =emacs-xdg-email.sh mailto:?attach=%f=
8. Now you can use mailto to send emails from places like your file manage and libreoffice, saving you valuable seconds. 

